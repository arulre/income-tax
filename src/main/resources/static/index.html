<html>
<title>
  Income tax calculator
</title>
<!--<script src="/js/form-submit.js"></script>-->
<script>
<!--   Income income = "{"salary" : 0.00, "bonus" : 0.00, "other_income" : "0.00"}";-->
  function handleSubmit(event) {
    event.preventDefault();
    const data = new FormData(event.target);
    var income = Object.fromEntries(data.entries());
    console.log({ value });
    userAction(value);
  }
<!--  const form = document.querySelector('form');-->
  document.forms[0].addEventListener('submit', handleSubmit);

  function userAction(income) {
    var xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function() {
         if (this.readyState == 4 && this.status == 200) {
             alert(this.responseText);
         }
    };
<!--    xhttp.open("POST", "/income/2020-21");-->
    xhttp.setRequestHeader("Content-Type", "application/json");
    xhttp.send(income);
}
</script>
<form method="post" path="/income/2020-21">
  <table>
    <tr>
      <td><label>Salary</label></td>
      <td><input type="text" name="salary"/></td>
    </tr>
    <tr>
      <td><label>Bonus</label></td>
      <td><input type="text" name="bonus"/></td>
    </tr>
    <tr>
      <td><label>Other Income</label></td>
      <td><input type="text" name="other_income"/></td>
    </tr>
    <tr><td colspan="2"><input type="submit" name="submit"/></td> </tr>
  </table>
</form>
</html>